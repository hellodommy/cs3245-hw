<!DOCTYPE html>
<!-- saved from url=(0049)https://www.comp.nus.edu.sg/~cs3245/hw1-lang.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="CS3245 Sem II AY 2019/20 - Homework #1 N-grams">
    <meta name="author" content="ZHAO Jin">

    <style>
body {
  padding-top: 60px;
}
    </style>
    <title>CS3245 Information Retrieval » Homework #1 N-grams</title>

    <!--
	color scheme from kuler - monochrome blue
15457F
76B4FF
2A89FF
1A477F
216ECC
-->

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="./CS3245 Information Retrieval » Homework #1 N-grams_files/bootstrap.min.css" integrity="sha384-MIwDKRSSImVFAZCVLtU0LMDdON6KVCrZHyVQQj6e8wIEJkW4tvwqXrbMIya1vriY" crossorigin="anonymous">

    <!-- FontAwesome CSS Icons -->
    <link rel="stylesheet" href="./CS3245 Information Retrieval » Homework #1 N-grams_files/font-awesome.min.css">

    <!-- Custom styles for this template -->
    <link href="./CS3245 Information Retrieval » Homework #1 N-grams_files/docs2017.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  </head>

<body data-new-gr-c-s-check-loaded="14.992.0" data-gr-ext-installed=""><nav class="navbar bg-faded navbar-fixed-top">
  <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"></button>
  <div class="collapse navbar-toggleable-md" id="navbarResponsive">
    <a class="navbar-brand" href="https://www.comp.nus.edu.sg/~cs3245/index.html">CS3245 <i class="fa fa-angle-double-right"></i></a>
    <ul class="nav navbar-nav">
      <li class="nav-item"><a target="_blank" class="nav-link" href="https://luminus.nus.edu.sg/"><i class="fa fa-external-link"></i> LumiNUS</a></li>
      <li class="nav-item"><a target="_blank" class="nav-link" href="http://www.facebook.com/cs3245/"><i class="fa fa-external-link"></i>  FB</a></li>
      <li class="nav-item"><a href="https://www.comp.nus.edu.sg/~cs3245/syllabus.html" class="nav-link">Syllabus</a></li>
      <li class="nav-item"><a href="https://www.comp.nus.edu.sg/~cs3245/grading.html" class="nav-link">Grading</a></li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="http://www.comp.nus.edu.sg/~cs3245" id="responsiveNavbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Homeworks</a>
		<div class="dropdown-menu" aria-labelledby="responsiveNavbarDropdown">
			<!--<a class="dropdown-item" href="#"> Homework #1</a>-->
			<a class="dropdown-item" href="https://www.comp.nus.edu.sg/~cs3245/hw1-lang.html"> Homework #1</a>
			<!--<a class="dropdown-item" href="#"> Homework #2</a>-->
			<!--<a class="dropdown-item" href="hw2-bool.html"> Homework #2</a>-->
			<!--<a class="dropdown-item" href="#"> Homework #3</a>-->
			<!--<a class="dropdown-item" href="hw3-vsm.html"> Homework #3</a>-->
			<!--<a class="dropdown-item" href="#"> Homework #4</a>-->
			<!--<a class="dropdown-item" href="hw4-intelllex.html"> Homework #4</a>-->			
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="http://example.com/" id="responsiveNavbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Previous</a>
        <div class="dropdown-menu" aria-labelledby="responsiveNavbarDropdown">
			  <a class="dropdown-item" href="http://www.comp.nus.edu.sg/~cs3245/2020">2019/20 Sem II</a>
			  <a class="dropdown-item" href="http://www.comp.nus.edu.sg/~zhaojin/cs3245_2019/">2018/19 Sem II</a>
			  <a class="dropdown-item" href="http://www.comp.nus.edu.sg/~zhaojin/cs3245_2018/">2017/18 Sem II</a>
        </div>
      </li>
    </ul>
      </div>
    </nav>



    <div class="container-fluid">
      <div class="jumbotron">
	<div class="container-fluid">
	  <div class="row">
	    <div class="col-xs-3">
	      <a href="http://www.flickr.com/people/jacalynsnana/"><img src="./CS3245 Information Retrieval » Homework #1 N-grams_files/jacalynsnana.jpg" height="150" width="150" title="Credits: jacalynsnana@flickr" class="img-fluid"></a><a href="http://www.comp.nus.edu.sg/"><img width="150" src="./CS3245 Information Retrieval » Homework #1 N-grams_files/soc.jpg" alt="School of Computing" class="img-fluid"></a></div>
	    <div class="col-xs-9"><h1>Information Retrieval</h1><p>NUS SoC, <b>AY 2019/20</b>, Semester II,
		Fridays 12:00-14:00 @ LT15 </p>
	    </div>
	  </div>
	</div>
      </div>

<div class="container-fluid">
<div class="alert alert-info">
Last updated: 18 Jan 2021, information updated for AY19/20 Semester 2.
  </div>
<div class="alert alert-danger" role="alert">
  Deadline for submission: <strong>4 Feb 2021, 10pm SGT</strong>
</div>

  <div class="row"> <h2>Homework #1 » Language Detection</h2>
<p>In this homework, you will be implementing a language detection
module using the ngram knowledge you learned in Week 1. Given a string
representing some natural language utterance, your program should be
able to predict whether the text is Indonesian, Malaysian or
(phonetically transcribed into English) Tamil.  So given the following
three strings:

</p><p>
<i>Semua manusia dilahirkan bebas dan samarata dari segi kemuliaan dan hak-hak.</i><br>
<i>Semua orang dilahirkan merdeka dan mempunyai martabat dan hak-hak yang sama.</i><br>
<i>Maitap piiviyiar cakalarum cutantiramkav piakkiaar</i><br>
</p>

<p>... an ideal program should output/predict the following labels for the strings:</p>

<p>
</p><table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><span class="badge">malaysian</span></td>
      <td><i>Semua manusia dilahirkan bebas ...</i></td>
    </tr>
    <tr>
      <td><span class="badge">indonesian</span></td>
      <td><i>Semua orang dilahirkan merdeka ...</i></td>
    </tr>
    <tr>
      <td><span class="badge">tamil</span></td>
      <td><i>Maitap piiviyiar cakalarum cutantiramkav piakkiaar ...</i><br>
      </td>
    </tr>
  </tbody>
</table>
<p></p>

<h3>Build and test your language models (LMs)</h3>

<p>You should run your program to build and test your LMs in this format:</p>

<pre>$ python3 build_test_LM.py -b input-file-for-building-LM -t input-file-for-testing-LM -o output-file</pre><br>

<p>where <code>input-file-for-building-LM</code> is a file given to
you that contains a list of strings with their labels for you to build
your ngram language models, <code>input-file-for-testing-LM</code> is
a file containing a list of strings for you to test your language
models, and <code>output-file</code> is a file where you store your
predictions.</p>

<h3>Evaluate your predictions</h3>

<p>To evaluate the accuracy of your predictions, you run the evaluation
file <code>eval.py</code> which is given to you:</p>

<pre>$ python3 eval.py file-containing-your-results file-containing-correct-results</pre><br>

<p>where <code>file-containing-your-results</code> is the output-file
from the build and test step, and
<code>file-containing-correct-results</code> is a file containing the
correct string labels.</p>

<p>For example, in the homework package, you are given several files,
including a skeleton <code>build_test_LM.py</code>, <code>eval.py</code>, <code>input.train.txt</code>, <code>input.test.txt</code>, and <code>input.correct.txt</code>. To build and test your LMs, run:</p>

<pre>$ python3 build_test_LM.py -b input.train.txt -t input.test.txt -o input.predict.txt</pre><br>

<p>which will store your predictions in <code>input.predict.txt</code>. To evaluate your
predictions, run:</p>

<pre>$ python3 eval.py input.predict.txt input.correct.txt</pre><br>

<p>which prints the accuracy of your predictions.</p>

<h3>What's expected in <code>build_test_LM.py</code>?</h3>

<p>The python program <code>build_test_LM.py</code> is given to you as a skeleton
script. You are required to complete this script by implementing the
<code>build_LM()</code> and <code>test_LM()</code> functions.</p>

<p>You need to collect the 4-grams from the string where the gram units
are characters. For example, for the string <i>Semua manusia
dilahirkan bebas ...</i>, the below character 4-grams would be
collected (Note that you can choose to pad the beginning and end of
the string as shown in lecture 1; it's up to you, but
you'll want to document your choice).</p>

[('S', 'e', 'm', 'u'), ('e', 'm', 'u', 'a'), ('m', 'u', 'a',
' '), ('u', 'a', ' ', 'm'), ('a', ' ', 'm', 'a'), (' ',
'm', 'a', 'n'), ('m', 'a', 'n', 'u), ('a', 'n', 'u', 's'),  ... ]<br>

<p> For each of the <span class="badge">malaysian</span>, <span class="badge">indonesian</span> and <span class="badge">tamil</span>
labels, you then build a language model with add one smoothing,
similar to the ones shown in lecture 1, which smooths out
all observed ngrams. The differences are that you are required to use
probabilities instead of counts and 4-grams instead of unigrams.  Your
language models for the three labels should look in a way similar to
the following table, where rows 3 to 4 are the language models for
<span class="badge">malaysian</span>, <span class="badge">indonesian</span>, and <span class="badge">tamil</span>,
respectively. Note that each row should sum up to 1, and there are
other entries in the table that have been omitted for clarity.</p>

<p>
</p><table class="table-bordered table table-hover">
  <tbody>
    <tr>
      <th>Labels</th>
      <th colspan="5">4-grams</th>
    </tr>
    <tr>
      <td></td>
      <td>...</td>
      <td>('e','m','u','a')</td>
      <td>('m','u','a',' ')</td>
      <td>('u','a',' ','m')</td>
      <td>...<br>
      </td>
    </tr>
    <tr>
      <td><span class="badge">malaysian</span><br>
      </td>
      <td><br>
      </td>
      <td>3.11e-07<br>
      </td>
      <td>1.03e-07<br>
      </td>
      <td>2.07e-07<br>
      </td>
      <td><br>
      </td>
    </tr>
    <tr>
      <td><span class="badge">indonesian</span><br>
      </td>
      <td><br>
      </td>
      <td>5.17e-07<br>
      </td>
      <td>2.07e-07<br>
      </td>
      <td>1.52e-07<br>
      </td>
      <td><br>
      </td>
    </tr>
    <tr>
      <td><span class="badge">tamil</span><br>
      </td>
      <td><br>
      </td>
      <td>2.89e-06<br>
      </td>
      <td>5.17e-07<br>
      </td>
      <td>9.65e-07<br>
      </td>
      <td><br>
      </td>
    </tr>
  </tbody>
</table>
<p></p>

<p>To test a new string, you should multiply the probabilities of the
4-grams for this string, and return the label (i.e., <span class="badge">malaysian</span>, <span class="badge">indonesian</span>,
and <span class="badge">tamil</span>) that gives the highest
product. Ignore the four-gram if it is not found in the LMs.</p>

<h3>Format of the input/output files</h3>

<ul>
  <li><code>input.train.txt:</code> the input file for you to build
  your LMs, which contains about 900 lines, where each line is a
  label/string pair separated by a space.  The label will either read
  <span class="badge">malaysian</span>, <span class="badge">indonesian</span>, or <span class="badge">tamil</span>.</li>

  <li><code>input.test.txt:</code> the input file for you to test your
  LMs, which contains 20 strings, each in a line. <span class="text-error">A small number of strings have been inserted by
  extraterrestrial aliens, and do not belong to any of the three
  languages your program is asked to detect.</span> This is just to
  keep it interesting; you can tell us what language you think they
  are, and see whether you can tune your program to tell us that they
  are <span class="badge">other</span> languages.</li>

  <li><code>input.correct.txt:</code> contains the correct labels for
  the input in <code>input.test.txt</code>, in the same format as
  <code>input.train.txt</code> (i.e., each label/string pair is
  separated by a space).</li>

  <li>Your output file from <code>build_test_LM.py</code> (e.g.,
  <code>input.predict.txt</code>): contains your predictions in the
  same format as <code>input.train.txt</code>.</li>
</ul>

<h3>Essay questions:</h3>

<p>You are also encouraged to think about the following essay questions as you
work on the assignment. These questions are meant to enhance your understanding
of the lecture materials and the assignment. You are NOT required to submit your
answers, but you are welcome to do so and discuss your answers with us. Note that these
are open-ended questions and do not have gold standard answers. A paragraph or two are
usually sufficient for each question. It would be even better if you can
support your answers with experimental results.</p>

<ol>

<li>In the homework assignment, we are using character-based ngrams,
  i.e., the gram units are characters. Do you expect token-based ngram
  models to perform better?</li>

  <li>What do you think will happen if we provided more data for each
category for you to build the language models? What if we only
provided more data for Indonesian?</li>

  <li>What do you think will happen if you strip out punctuations
and/or numbers?  What about converting upper case characters to lower
case?<br> </li>

  <li>We use 4-gram models in this homework assignment. What do you
think will happen if we varied the ngram size, such as using unigrams,
bigrams and trigrams?<br></li>
</ol>

<h4>Submission Formatting</h4>

<p>For us to grade this assignment in a timely manner, we need you to
adhere strictly to the following submission guidelines. They will help
us grade the assignment in an appropriate manner. <span class="text-error">You will be penalized if you do not follow these
instructions.</span> Your student number in all of the following
statements should not have any spaces and all letters should be in
CAPITALS (inclusive of the ending check letter). You are to turn in
the following files:</p>

<ul>

  <li>A plain text documentation file <code>README.txt</code> (e.g.,
  in UPPERCASE): this is a text only file that describes any
  information you want us to know about your submission.  You should
  give an overview of your program and describe the important algorithms/steps
  in your program. However, You <span class="text-error">should not</span>
  include any identifiable information about your assignment (your name, phone number, etc.)
  except your student number and email (we need the email to contact
  you about your grade, please use your <i>[u|a|g|e]*******@u.nus.edu</i> address,
  not your email alias). This is to help you get an objective grade in
  your assignment, as we won't associate student numbers with student
  names. </li>

  <li>Any source code (in particular, <code>build_test_LM.py</code>
  for this homework assignment): We <span style="text-error">will</span> be reading your code, so please do us
  a favor and format it nicely.</li>

  <li>(Optional) A plain text file <code>ESSAY.txt</code> that contains your
  answers to the essay questions (if you choose to attempt the questions).
  Again, do not disclose any identifiable information in your
  essay answers.</li>

</ul>

<p>These files will need to be suitably zipped in a single file called
<code>&lt;student number&gt;.zip</code>. Please use a zip archive and
not tar.gz, bzip, rar or cab files. Make sure when the archive unzips
that all of the necessary files are found in a directory called
<code>&lt;student number&gt;</code>.</p>

<p>A package of skeleton files have been released in LumiNUS to help you prepare the submission.
You may use the homework checker script in the same package to check whether your zip archive fulfills the criteria above.  Upload the resulting zip
file to LumiNUS by the due date: <span class="text-error">4
Feb 2021, 10pm SGT</span>. There absolutely will be no
extensions to the deadline of this assignment. Read the late policy if
you're not sure about <a href="https://www.comp.nus.edu.sg/~cs3245/grading.html#late">grade penalties for
lateness</a>.</p>

<h3>Grading Guidelines</h3>

<p>The grading criteria for the assignment is tentatively:

</p><ul>
  <li>50% Correctness of your code</li>
  <li>20% Documentation</li>
      <ul>
      <li> 5% For following the submission instructions and formatting
	   your documentation accordingly.</li>

      <li> 5% For code level documentation.</li>

      <li> 10% For your high level documentation, in your README
	   document.  </li> </ul>

	 <li>30% Evaluation results: Your program will be tested against 200 new strings.  The strings will be in the same format as the provided <code>input.test.txt</code> (may have some alien strings too).</li>
	 <li>0% Essay questions</li>
  <li>Note: Nominal bonus marks (+1) might be given to submissions that excel in the above-mentioned components.</li>
</ul>

<h3>Miscellaneous</h3>

<ul>
  <li> <a href="http://en.wikipedia.org/wiki/Language_identification">Language Identification</a> (from Wikipedia)
  </li><li> It's well known that Indonesian and Malaysian are closer to
  dialects of the same language (Malay), rather than independent
  languages.  So many of the strings you'll get in training and
  testing will be likely be confused by your program, since they may
  be acceptable in both languages.  After all,<br>
<blockquote>A language is a dialect with an army and navy
<small>Max Weinreich -- see (<a href="http://en.wikipedia.org/wiki/A_language_is_a_dialect_with_an_army_and_navy">Wikipedia</a>)</small></blockquote>
  so don't expect your program to distinguish these two languages well.</li>
</ul>
</div>
</div>
    <!-- Footer ================================================== -->
      <footer class="footer">
        <p class="pull-right"><a href="https://www.comp.nus.edu.sg/~cs3245/hw1-lang.html#">Back to top</a></p>
	<p>Designed with <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
      </footer>
    </div> <!-- /container -->

<!-- Le javascript ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="./CS3245 Information Retrieval » Homework #1 N-grams_files/jquery.min.js"></script>
<script src="./CS3245 Information Retrieval » Homework #1 N-grams_files/bootstrap.min.js"></script>

</body></html>